# 《强智算法》算法分析报告

<center>第 2 组</center>

<span style="color: red;">		在报告开始前我们需要指出，第 3 小组给出的算法实现有一定的漏洞，在处理某些输入时程序会产生异常退出，这在某种程度上影响了我们的分析过程，详见附录中的环境说明。</span>

## 随机性检测





## 安全性分析

### 区分攻击

​		该算法对于区分攻击具有较强的抗性。我们使用该算法随机生成了 {2500, 5000, 10000, 20000, 50000, 100000} 个哈希值，然后对这些哈希值进行统计分析。

​		首先是逐 Bit 分析，我们统计每个 Bit 的 “1” 的出现次数。如果是随机分布，每个 Bit 应服从 $p = 0.5$ 的伯努利分布。绘出下图，证明其确实具有较好的随机性。测试脚本见 `./distinguishing_attack` 目录。

![XmxlO1.png](https://s1.ax1x.com/2022/05/27/XmxlO1.png)

​		然后是检验不同 Bit 之间的关联性。我们绘制出下图，图中每个点的横纵坐标确定哈希值两个比特位，其数值代表两个比特位相同的概率。可以看出不同比特之间没有明显的关联性。

![XmxGTK.png](https://s1.ax1x.com/2022/05/27/XmxGTK.png)

### 碰撞攻击 (Redo?)

​		碰撞攻击是说，是否存在 $M_1$, $M_2$，使得 $M_1 \ne M_2$ 但 $H(M_1) = H(M_2)$。为寻找碰撞攻击我们使用 Floyd 的随机路径算法。我们给定初始串 $M_0$，记 $M_i = H(M_{i-1})$，且每次迭代步我们都将 $M_i$ 计入集合 $K$ 中。如果找到某次迭代步的迭代结果 $M_j$ 已经在集合 $K$ 中，那么说明我们这条试探链构成了一个“环”，而这个“环”中必然有一个结点存在两个入度，这两个入边所对应的邻点便是哈希值产生碰撞的原象。

​		由生日攻击的相关理论我们可以知道，在 $2^{80}$ 种随机数的排列组合中，任从这个分布中取样 $2^{40}$ 个元素，有与 0.5 数量级相同的概率产生重复。而如果哈希算法的随机性足够高，那么我们只有当计算量达到这个量级时，才能够找到相应的碰撞。

​		限于计算性能所限，我们这里取最长的试探链长为 $10,000$，即从某个 $M_0$ 出发，我们迭代 $10,000$ 步，查看其是否产生碰撞。我们随机选取不同的初值 $M_0$，重复了 25 次上述实验，该算法均未发生碰撞现象。测试脚本见 `./collision_attack` 目录。

​		

## 附录

以上的分析我们使用的编译命令为 `gcc *.c -O3 main`，测试运行环境为：

+ TODO
+ TODO
+ TODO

我们指出算法实现有漏洞的地方在于，在处理某些文件时，其会产生异常退出。

![image-20220603212246567](https://s2.loli.net/2022/06/03/KsU7RIJwHLGtlNC.png)